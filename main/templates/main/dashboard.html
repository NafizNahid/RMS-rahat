{% extends 'main/base.html' %}

{% block title %} Dashboard {% endblock %}

{% block body %}

  <!-- main body -->
  <main class="main mt-5 container mx-auto">
    <div class="my-10 grid grid-cols-3 gap-3">
      <div class="left-batchs col-span-2 bg-gray-200 rounded p-3">
        <div class="batch-top grid pb-3">
          <h2 class="text-center text-xl font-bold text-indigo-500">
            All Batches
          </h2>
          <button
            class="add-btn ml-auto bg-indigo-500 text-indigo-50 px-4 py-1 rounded hover:bg-indigo-600 duration-200"
          >
            + Add
          </button>
        </div>

        <div class="batch-cards grid grid-cols-3 gap-3 justify-center">
        {% for batch in batches %}
          <div
            class="batch-card bg-white text-indigo-500 p-4 rounded shadow flex flex-col items-center gap-1 h-55 w-80 border-2 border-indigo-50/80 hover:shadow-lg hover:border-indigo-500 hover:border-2 duration-300"
          >
            <h2 class="batch-title text-3xl font-bold uppercase">
              {{batch.batch_no}} ({{batch.session}})
            </h2>
            <div class="semesters flex flex-col">
              <p class="text-center text-2xl">Semesters</p>
              <div
                class="flex justify-center items-center gap-1 text-lg py-2 flex-wrap"
              >
                
                {% for semester in batch.semesters %}
                <a
                  href="semesters/{{semester.batch_no}}/{{semester.semester_no}}"
                  class="semester bg-indigo-500 text-indigo-50 rounded-full h-8 w-8 text-center hover:bg-indigo-400 duration-100"
                  >{{semester.semester_no}}</a>
                {% endfor %}
                {% if request.user.is_superuser and batch.semesters|length < 8 %}
                <a
                  href="add_semester/{{batch.batch_no}}"
                  class="semester bg-indigo-50 border font-2xl border-indigo-500 text-indigo-500 rounded-full h-8 w-8 text-center hover:bg-indigo-600 hover:text-indigo-50 duration-100"
                  >+</a
                >
                {% endif %}
              </div>
            </div>
            <div class="flex justify-between items-center py-3 w-full">
              <a
                href="#"
                class="students text-lg font-semibold bg-indigo-50 px-3 border rounded-full border-indigo-500 hover:bg-indigo-200 duration-200"
                >Students</a
              >
              <h2 class="course text-lg font-medium">Course: 5</h2>
              <button
                class="bg-indigo-50 border rounded-full px-2 hover:border-indigo-300"
              >
                Delete
              </button>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="right bg-gray-200 grid p-3 rounded">
        <div class="right-title">
          <h2 class="text-center text-xl font-bold text-indigo-500">
            Generate Grade Sheet
          </h2>
        </div>
        <div
          class="right-upper flex flex-col justify-center items-center gap-3 bg-gray-100 rounded border-b-2 border-indigo-400 p-3 mt-3"
        >
          <h2 class="text-xl font-semibold text-gray-500">
            Input reg number
          </h2>
          <form action="" class="">
            <input
              type="text"
              class="outline-none w-80 h-10 rounded-full px-3 border border-indigo-200"
            />
          </form>
          <a
            href="#"
            class="students text-lg text-indigo-500 font-semibold bg-indigo-50 px-3 border rounded-full border-indigo-500 hover:bg-indigo-200 duration-200"
            >Submit</a
          >
        </div>
        <div class="right-lower pt-3">
          <div
            class="right-lower-title grid grid-cols-3 justify-center items-center"
          >
            <h2 class="text-xl font-bold text-indigo-500 gris col-span-2">
              Teachers
            </h2>
            <button
              class="add-btn ml-auto bg-indigo-500 text-indigo-50 px-4 py-1 rounded hover:bg-indigo-600 duration-200"
            >
              + Add
            </button>
          </div>
          <div class="teachers-list">
            {% for teacher in teachers %}
            <div
              class="teacher flex justify-between bg-gray-100 p-3 mt-3 shadow rounded border-2 border-indigo-50/80 hover:shadow-lg hover:border-indigo-500 hover:border-2 duration-300"
            >
              <div class="title flex flex-col max-w-[70%]">
                <p class="font-semibold text-xl text-indigo-500">
                  {{teacher.name}}
                </p>
                <p class="italic font-medium text-gray-500">{{teacher.designation}},</p>
                <p class="italic font-medium text-gray-500">{{teacher.department}},</p>
                <p class="italic font-medium text-gray-500">{{teacher.institute}}</p>
              </div>
              <div class="course flex flex-col">
                <p
                  class="font-semibold text-xl bg-indigo-100 rounded border text-center text-indigo-500"
                >
                  Courses
                </p>
                {% for course in teacher.courses %}
                <p class="text-sm font-normal text-gray-600">
                  {{course.course_code}}({{course.batch_no}})
                </p>
                {% endfor %}
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </main>

{% endblock %}